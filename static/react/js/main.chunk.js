(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],[,,function(t,e,i){},,,,function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return c}));var n=i(7),r=i(8),a=i(9),s=i(10),o=i(0),h=i.n(o),c=(i(2),i(16),i(17),i(18),i(22),i(23),i(24),i(27),function(e){Object(s.a)(o,e);var i=Object(a.a)(o);function o(t){var e;Object(n.a)(this,o);return(e=i.call(this,t)).state={options:{id:"viewer",prefixUrl:"https://cdn.jsdelivr.net/npm/openseadragon/build/openseadragon/images/",tileSources:[{tileSource:{Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:"http://openseadragon.github.io/example-images/highsmith/highsmith_files/",Format:"jpg",Overlap:"2",TileSize:"256",Size:{Height:"9221",Width:"7026"}}},width:2,y:.5,x:.5}]}},e}return Object(r.a)(o,[{key:"componentDidMount",value:function(){this.initialiseWidgets()}},{key:"componentDidUpdate",value:function(){this.initialiseWidgets()}},{key:"initialiseWidgets",value:function(){this.viewer=t.OpenSeadragon(this.state.options);new t.OpenSeadragon.CanvasOverlayHd(this.viewer,{onRedraw:function(t){var e=t.context;e.fillStyle="#a6cee3",e.beginPath(),e.arc(150,150,150,0,2*Math.PI,!0),e.fill()}})}},{key:"render",value:function(){return h.a.createElement("div",{id:this.state.options.id})}}]),o}(o.Component))}).call(this,i(4))},,,,,function(t,e,i){t.exports=i(28)},,,,,function(t,e,i){"use strict";(function(t){var e=i(1),n=i.n(e);t.OpenSeadragon=window.OpenSeadragon=n.a}).call(this,i(4))},function(t,e){ViaWebGL=function(t){this["gl-drawing"]=function(t){return t},this["gl-loaded"]=function(t){return t},this.ready=function(t){return t};var e=this.maker();for(var i in this.flat=document.createElement("canvas").getContext("2d"),this.tile_size="u_tile_size",this.vShader="vShader.glsl",this.fShader="fShader.glsl",this.wrap=e.CLAMP_TO_EDGE,this.tile_pos="a_tile_pos",this.filter=e.NEAREST,this.pos="a_pos",this.height=128,this.width=128,this.on=0,this.gl=e,t)this[i]=t[i]},ViaWebGL.prototype={init:function(t){this.ready;this.hasOwnProperty("container")&&this.hasOwnProperty("onclick")&&(this.container.onclick=this[this.onclick].bind(this)),t&&t.height&&t.width&&(this.ready=this.toCanvas.bind(this,t),this.height=t.height,this.width=t.width),this.source=t,this.gl.canvas.width=this.width,this.gl.canvas.height=this.height,this.gl.viewport(0,0,this.width,this.height);var e=[[this.vShader,this.fShader].map(this.getter)];return e.push(this.toProgram.bind(this),this.toBuffers.bind(this)),Promise.all(e[0]).then(e[1]).then(e[2]).then(this.ready)},maker:function(t){return this.context(document.createElement("canvas"))},context:function(t){return t.getContext("experimental-webgl")||t.getContext("webgl")},getter:function(t){return new Promise((function(e){if("glsl"!=t.slice(-4))return e(t);var i=new XMLHttpRequest;i.open("GET",t,!0),i.onerror=i.onload=function(){return 200==i.status?e(i.response):e(t)},i.send()}))},toProgram:function(t){var e=this.gl,i=e.createProgram(),n=function(t,i,n,r){return e["get"+t+"Parameter"](n,e[i+"_STATUS"])||console.log((r||"LINK")+":\n"+e["get"+t+"InfoLog"](n)),n};return t.map((function(t,r){var a=["VERTEX_SHADER","FRAGMENT_SHADER"][r],s=e.createShader(e[a]);e.shaderSource(s,t),e.compileShader(s),e.attachShader(i,s),n("Shader","COMPILE",s,a)})),e.linkProgram(i),n("Program","LINK",i)},toBuffers:function(t){this.gl.useProgram(t),this["gl-loaded"].call(this,t);var e=[[-1,1,-1,-1,1,1,1,-1],[0,1,0,0,1,1,1,0]],i=new Float32Array([].concat.apply([],e)),n=i.BYTES_PER_ELEMENT,r=this.gl,a=r.getUniformLocation(t,this.tile_size);r.uniform2f(a,r.canvas.height,r.canvas.width),this.att=[this.pos,this.tile_pos].map((function(i,a){var s=Math.min(a,e.length-1),o=Math.floor(e[s].length/4);return[r.getAttribLocation(t,i),o,r.FLOAT,0,o*n,4*s*o*n]})),this.tex={texParameteri:[[r.TEXTURE_2D,r.TEXTURE_WRAP_T,this.wrap],[r.TEXTURE_2D,r.TEXTURE_WRAP_S,this.wrap],[r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,this.filter],[r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.filter]],texImage2D:[r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE],bindTexture:[r.TEXTURE_2D,r.createTexture()],drawArrays:[r.TRIANGLE_STRIP,0,4],pixelStorei:[r.UNPACK_FLIP_Y_WEBGL,1]},r.bindBuffer(r.ARRAY_BUFFER,r.createBuffer()),r.bufferData(r.ARRAY_BUFFER,i,r.STATIC_DRAW)},toCanvas:function(t){if(this.on%2!==0)return"IMG"==t.nodeName?(this.flat.canvas.width=t.width,this.flat.canvas.height=t.height,this.flat.drawImage(t,0,0,t.width,t.height),this.flat.canvas):t;this["gl-drawing"].call(this,t);var e=this.gl;this.att.map((function(t){e.enableVertexAttribArray(t.slice(0,1)),e.vertexAttribPointer.apply(e,t)})),e.activeTexture(e.TEXTURE0),e.bindTexture.apply(e,this.tex.bindTexture),e.pixelStorei.apply(e,this.tex.pixelStorei),this.tex.texParameteri.map((function(t){e.texParameteri.apply(e,t)}));var i=this.tex.texImage2D.concat([t]);return e.texImage2D.apply(e,i),e.drawArrays.apply(e,this.tex.drawArrays),this.container&&this.container.appendChild(this.gl.canvas),this.gl.canvas},toggle:function(){this.on++,this.container.innerHTML="",this.container.appendChild(this.toCanvas(this.source))}}},function(t,e,i){var n=i(19);openSeadragonGL=function(t){this.interface={"tile-loaded":function(t){var e=this.viaGL.toCanvas(t.image);t.image.onload=t.getCompletionCallback(),t.image.src=e.toDataURL()},"tile-drawing":function(t){var e=t.rendered.canvas;t.rendered.drawImage(this.viaGL.toCanvas(e),0,0,e.width,e.height)}},this.defaults={"tile-loaded":function(t,e){t(e)},"tile-drawing":function(t,e){1!==e.tile.loaded&&(e.tile.loaded=1,t(e))}},this.openSD=t,this.viaGL=new ViaWebGL},openSeadragonGL.prototype={forceinit:function(){return this.merger.bind(this)(),this},init:function(){var t=this.merger.bind(this);return this.openSD.addHandler("open",t),this.openSD.world.addHandler("add-item",t),this},addHandler:function(t,e){t in this.defaults&&(this[t]=this.defaults[t]),"function"==typeof e&&(this[t]=e)},merger:function(t){var e=this.openSD.source;this.width=e.getTileWidth(),this.height=e.getTileHeight();var i,r=n(this.and(this.viaGL));try{for(r.s();!(i=r.n()).done;){var a=i.value;this.viaGL[a]=this[a]}}catch(s){r.e(s)}finally{r.f()}this.viaGL.init().then(this.adder.bind(this))},adder:function(t){var e,i=n(this.and(this.defaults));try{for(i.s();!(e=i.n()).done;){var r=e.value,a=this[r].bind(this),s=this.interface[r].bind(this);this.openSD.addHandler(r,(function(t){a.call(this,s,t)}))}}catch(o){i.e(o)}finally{i.f()}},and:function(t){return Object.keys(t).filter(Object.hasOwnProperty,this)},button:function(t){var e=t.name||"tool",i=t.prefix||this.openSD.prefixUrl;t.hasOwnProperty("onClick")||(t.onClick=this.shade),t.onClick=t.onClick.bind(this),t.srcRest=t.srcRest||i+e+"_rest.png",t.srcHover=t.srcHover||i+e+"_hover.png",t.srcDown=t.srcDown||i+e+"_pressed.png",t.srcGroup=t.srcGroup||i+e+"_grouphover.png",this.openSD.clearControls().buttons.buttons.push(new OpenSeadragon.Button(t));var n=new OpenSeadragon.ButtonGroup({buttons:this.openSD.buttons.buttons});this.openSD.addControl(n.element,{anchor:OpenSeadragon.ControlAnchor.TOP_LEFT})},shade:function(){this.viaGL.on++,this.openSD.world.resetItems()}}},,,,function(t,e,i){!function(){var t=window.OpenSeadragon;if(!t&&!(t=i(1)))throw new Error("OpenSeadragon is missing.");var e="http://www.w3.org/2000/svg";t.Viewer.prototype.svgOverlay=function(){return this._svgOverlayInfo||(this._svgOverlayInfo=new n(this)),this._svgOverlayInfo};var n=function(t){var i=this;this._viewer=t,this._containerWidth=0,this._containerHeight=0,this._svg=document.createElementNS(e,"svg"),this._svg.id="svgOverlay",this._svg.style.position="absolute",this._svg.style.left=0,this._svg.style.top=0,this._svg.style.width="100%",this._svg.style.height="100%",this._viewer.canvas.appendChild(this._svg),this._node=document.createElementNS(e,"g"),this._svg.appendChild(this._node),this._viewer.addHandler("animation",(function(){i.resize()})),this._viewer.addHandler("open",(function(){i.resize()})),this._viewer.addHandler("rotate",(function(t){i.resize()})),this._viewer.addHandler("resize",(function(){i.resize()})),this.resize()};n.prototype={node:function(){return this._node},resize:function(){this._containerWidth!==this._viewer.container.clientWidth&&(this._containerWidth=this._viewer.container.clientWidth,this._svg.setAttribute("width",this._containerWidth)),this._containerHeight!==this._viewer.container.clientHeight&&(this._containerHeight=this._viewer.container.clientHeight,this._svg.setAttribute("height",this._containerHeight));var e=this._viewer.viewport.pixelFromPoint(new t.Point(0,0),!0),i=this._viewer.viewport.getZoom(!0),n=this._viewer.viewport.getRotation(),r=this._viewer.viewport._containerInnerSize.x*i;this._node.setAttribute("transform","translate("+e.x+","+e.y+") scale("+r+") rotate("+n+")")},onClick:function(e,i){new t.MouseTracker({element:e,clickHandler:i}).setTracking(!0)},onDrag:function(e,i){new t.MouseTracker({element:e,dragHandler:function(t){}}).setTracking(!0)}}}()},function(t,e,i){!function(){"use strict";var t=window.OpenSeadragon;if(!t&&!(t=i(1)))throw new Error("OpenSeadragon is missing.");if(!t.version||t.version.major<2||2===t.version.major&&t.version.minor<1)throw new Error("Filtering plugin requires OpenSeadragon version >= 2.1");function e(e,i){var a=(i=i||{}).filters;e.filters=a?t.isArray(a)?a:[a]:[];for(var s=0;s<e.filters.length;s++){if(!(h=e.filters[s]).processors)throw new Error("Filter processors must be specified.");h.processors=t.isArray(h.processors)?h.processors:[h.processors]}if(e.filterIncrement++,"sync"===i.loadMode)e.viewer.forceRedraw();else{var o=[];for(s=0;s<e.filters.length;s++){var h;if(!(h=e.filters[s]).items){o=r(e.viewer.world);break}if(t.isArray(h.items))for(var c=0;c<h.items.length;c++)n(h.items[c],o);else n(h.items,o)}for(s=0;s<o.length;s++)o[s].reset()}}function n(t,e){if(e.indexOf(t)>=0)throw new Error("An item can not have filters assigned multiple times.");e.push(t)}function r(t){for(var e=[],i=0;i<t.getItemCount();i++)e.push(t.getItemAt(i));return e}function a(e,i){if(0===e.filters.length)return[];for(var n=null,r=0;r<e.filters.length;r++){var a=e.filters[r];if(a.items){if(a.items===i||t.isArray(a.items)&&a.items.indexOf(i)>=0)return a.processors}else n=a.processors}return n||[]}t.Viewer.prototype.setFilterOptions=function(i){this.filterPluginInstance?e(this.filterPluginInstance,i):((i=i||{}).viewer=this,this.filterPluginInstance=new t.FilterPlugin(i))},t.Viewer.prototype.forceRefilter=function(){this.filterPluginInstance&&this.filterPluginInstance.filterIncrement++},t.FilterPlugin=function(t){if(!(t=t||{}).viewer)throw new Error("A viewer must be specified.");var i=this;function n(t,e,n,r){if(r){for(var a=i.filterIncrement,s=[],o=0;o<e.length-1;o++)!function(r){s[r]=function(){i.filterIncrement===a&&e[r+1](t,s[r+1],n)}}(o);s[e.length-1]=function(){i.filterIncrement===a&&r()},e[0](t,s[0],n)}else for(o=0;o<e.length;o++)e[o](t,(function(){}),n)}this.viewer=t.viewer,this.viewer.addHandler("tile-loaded",(function(t){var e=a(i,t.tiledImage);if(0===e.length)return;var r=t.tile,s=t.image;if(null!==s&&void 0!==s){var o=window.document.createElement("canvas");o.width=s.width,o.height=s.height;var h=o.getContext("2d");h.drawImage(s,0,0),r._renderedContext=h;var c=t.getCompletionCallback();n(h,e,r,c),r._filterIncrement=i.filterIncrement}})),this.viewer.addHandler("tile-drawing",(function(t){var e=t.tile,r=t.rendered;if(r._filterIncrement===i.filterIncrement)return;var s=a(i,t.tiledImage);if(0===s.length)return r._originalImageData&&(r.putImageData(r._originalImageData,0,0),delete r._originalImageData),void(r._filterIncrement=i.filterIncrement);r._originalImageData?r.putImageData(r._originalImageData,0,0):r._originalImageData=r.getImageData(0,0,r.canvas.width,r.canvas.height);if(e._renderedContext){if(e._filterIncrement===i.filterIncrement){var o=e._renderedContext.getImageData(0,0,e._renderedContext.canvas.width,e._renderedContext.canvas.height);return r.putImageData(o,0,0),delete e._renderedContext,delete e._filterIncrement,void(r._filterIncrement=i.filterIncrement)}delete e._renderedContext,delete e._filterIncrement}n(r,s,e),r._filterIncrement=i.filterIncrement})),this.filterIncrement=0,e(this,t)},t.Filters={THRESHOLDING:function(t){if(t<0||t>255)throw new Error("Threshold must be between 0 and 255.");return function(e,i){for(var n=e.getImageData(0,0,e.canvas.width,e.canvas.height),r=n.data,a=0;a<r.length;a+=4){var s=(r[a]+r[a+1]+r[a+2])/3;r[a]=r[a+1]=r[a+2]=s<t?0:255}e.putImageData(n,0,0),i()}},BRIGHTNESS:function(t){if(t<-255||t>255)throw new Error("Brightness adjustment must be between -255 and 255.");for(var e=[],i=0;i<256;i++)e[i]=i+t;return function(t,i){for(var n=t.getImageData(0,0,t.canvas.width,t.canvas.height),r=n.data,a=0;a<r.length;a+=4)r[a]=e[r[a]],r[a+1]=e[r[a+1]],r[a+2]=e[r[a+2]];t.putImageData(n,0,0),i()}},CONTRAST:function(t){if(t<0)throw new Error("Contrast adjustment must be positive.");for(var e=[],i=0;i<256;i++)e[i]=i*t;return function(t,i){for(var n=t.getImageData(0,0,t.canvas.width,t.canvas.height),r=n.data,a=0;a<r.length;a+=4)r[a]=e[r[a]],r[a+1]=e[r[a+1]],r[a+2]=e[r[a+2]];t.putImageData(n,0,0),i()}},GAMMA:function(t){if(t<0)throw new Error("Gamma adjustment must be positive.");for(var e=[],i=0;i<256;i++)e[i]=255*Math.pow(i/255,t);return function(t,i){for(var n=t.getImageData(0,0,t.canvas.width,t.canvas.height),r=n.data,a=0;a<r.length;a+=4)r[a]=e[r[a]],r[a+1]=e[r[a+1]],r[a+2]=e[r[a+2]];t.putImageData(n,0,0),i()}},GREYSCALE:function(){return function(t,e){for(var i=t.getImageData(0,0,t.canvas.width,t.canvas.height),n=i.data,r=0;r<n.length;r+=4){var a=(n[r]+n[r+1]+n[r+2])/3;n[r]=a,n[r+1]=a,n[r+2]=a}t.putImageData(i,0,0),e()}},INVERT:function(){for(var t=[],e=0;e<256;e++)t[e]=255-e;return function(e,i){for(var n=e.getImageData(0,0,e.canvas.width,e.canvas.height),r=n.data,a=0;a<r.length;a+=4)r[a]=t[r[a]],r[a+1]=t[r[a+1]],r[a+2]=t[r[a+2]];e.putImageData(n,0,0),i()}},MORPHOLOGICAL_OPERATION:function(t,e){if(t%2===0)throw new Error("The kernel size must be an odd number.");var i=Math.floor(t/2);if(!e)throw new Error("A comparator must be defined.");return function(n,r){for(var a,s=n.canvas.width,o=n.canvas.height,h=n.getImageData(0,0,s,o),c=n.getImageData(0,0,s,o).data,l=0;l<o;l++)for(var d=0;d<s;d++){for(var u=c[a=4*(l*s+d)],v=c[a+1],g=c[a+2],f=0;f<t;f++)for(var p=0;p<t;p++){var w=d+p-i,m=l+f-i;w>=0&&w<s&&m>=0&&m<o&&(u=e(c[a=4*(m*s+w)],u),v=e(c[a+1],v),g=e(c[a+2],g))}h.data[a]=u,h.data[a+1]=v,h.data[a+2]=g}n.putImageData(h,0,0),r()}},CONVOLUTION:function(e){if(!t.isArray(e))throw new Error("The kernel must be an array.");var i=Math.sqrt(e.length);if((i+1)%2!==0)throw new Error("The kernel must be a square matrix with oddwidth and height.");var n=(i-1)/2;return function(t,r){for(var a,s=t.canvas.width,o=t.canvas.height,h=t.getImageData(0,0,s,o),c=t.getImageData(0,0,s,o).data,l=0;l<o;l++)for(var d=0;d<s;d++){for(var u=0,v=0,g=0,f=0;f<i;f++)for(var p=0;p<i;p++){var w=d+p-n,m=l+f-n;if(w>=0&&w<s&&m>=0&&m<o){a=4*(m*s+w);var _=e[f*i+p];u+=c[a]*_,v+=c[a+1]*_,g+=c[a+2]*_}}a=4*(l*s+d),h.data[a]=u,h.data[a+1]=v,h.data[a+2]=g}t.putImageData(h,0,0),r()}}}}()},function(t,e,i){var n=i(25),r=i(26);t.exports=function(){"use strict";return function(){function t(e,i){var r=this;n(this,t),this._viewer=e,this.backingScale=1,this._containerWidth=0,this._containerHeight=0,this._canvasdiv=document.createElement("div"),this._canvasdiv.style.position="absolute",this._canvasdiv.style.left=0,this._canvasdiv.style.top=0,this._canvasdiv.style.width="100%",this._canvasdiv.style.height="100%",this._viewer.canvas.appendChild(this._canvasdiv),this._canvas=document.createElement("canvas"),this._canvasdiv.appendChild(this._canvas),this.onRedraw=i.onRedraw||function(){},this.clearBeforeRedraw="undefined"===typeof i.clearBeforeRedraw||i.clearBeforeRedraw,this._viewer.addHandler("update-viewport",(function(){r.resize(),r._updateCanvas()})),this._viewer.addHandler("open",(function(){r.resize(),r._updateCanvas()}))}return r(t,[{key:"canvas",value:function(){return this._canvas}},{key:"context2d",value:function(){return this._canvas.getContext("2d")}},{key:"clear",value:function(){this._canvas.getContext("2d").clearRect(0,0,this._containerWidth*this.backingScale,this._containerHeight*this.backingScale)}},{key:"resize",value:function(){var t=1;"undefined"!==typeof window&&"devicePixelRatio"in window&&(t=window.devicePixelRatio);var e=this.backingScale!==t;this.backingScale=t,(this._containerWidth!==this._viewer.container.clientWidth||e)&&(this._containerWidth=this._viewer.container.clientWidth,this._canvasdiv.setAttribute("width",t*this._containerWidth),this._canvas.setAttribute("width",t*this._containerWidth),this._canvas.style.width=this._containerWidth+"px"),(this._containerHeight!==this._viewer.container.clientHeight||e)&&(this._containerHeight=this._viewer.container.clientHeight,this._canvasdiv.setAttribute("height",t*this._containerHeight),this._canvas.setAttribute("height",t*this._containerHeight),this._canvas.style.height=this._containerHeight+"px")}},{key:"_updateCanvas",value:function(){var t=this._viewer.viewport.getZoom(!0);this.clearBeforeRedraw&&this.clear();for(var e=this._canvas.getContext("2d"),i=0,n=this._viewer.world.getItemCount();i<n;i++){var r=this._viewer.world.getItemAt(i);if(r){var a=r.viewportToImageZoom(t),s=r.imageToViewportCoordinates(0,0,!0),o=this._viewer.viewport.pixelFromPoint(s,!0);e.scale(this.backingScale,this.backingScale),e.translate(o.x,o.y),e.scale(a,a),this.onRedraw({index:i,context:e,x:o.x,y:o.y,zoom:a}),e.setTransform(1,0,0,1,0,0)}}}}],[{key:"getTileIndexFromPixel",value:function(t,e){for(var i=t.viewport.pointFromPixel(e),n=0,r=t.world.getItemCount();n<r;n++){var a=t.world.getItemAt(n),s=new OpenSeadragon.Rect(i.x,i.y,0,0),o=a._viewportToTiledImageRectangle(s).getTopLeft(),h=a.source;if(o.x>=0&&o.x<=1&&o.y>=0&&o.y<=1/h.aspectRatio)return n}return-1}}]),t}()}()},,,function(t,e){!function(t){"use strict";function e(t){this.onCanvasHover(this.getValueAt(t.position))}if(!t.version||t.version.major<2)throw new Error("This version of OpenSeadragonRGB requires OpenSeadragon version 2.0.0+");t.Viewer.prototype.rgb=function(e){return(!this.rgbInstance||e)&&((e=e||{}).viewer=this,this.rgbInstance=new t.RGB(e)),this.rgbInstance},t.RGB=function(i){t.extend(!0,this,{viewer:null,onCanvasHover:null},i),this.onCanvasHover&&(this.tracker=new t.MouseTracker({element:this.viewer.canvas,moveHandler:t.delegate(this,e)}))},t.extend(t.RGB.prototype,t.ControlDock.prototype,{getValueAt:function(e,i){var n=1===arguments.length?e:new t.Point(e,i),r=this.viewer,a=r.drawer.getRgbAt(n);if(a)for(var s,o,h,c=0;c<r.world.getItemCount();c++)h=(s=r.world.getItemAt(c)).getContentSize(),(o=t.TiledImage.prototype.viewerElementToImageCoordinates?s.viewerElementToImageCoordinates(n):r.viewport.viewerElementToImageCoordinates(n)).x>=0&&o.y>=0&&o.x<=h.x&&o.y<=h.y&&(a.image=s,a.imageCoordinates=o);return a}}),t.Drawer.prototype.getRgbAt=function(e){if(!this.useCanvas)return!1;var i=t.pixelDensityRatio,n=this._getContext().getImageData(e.x*i,e.y*i,1,1).data;return{r:n[0],g:n[1],b:n[2],a:n[3]}}}(OpenSeadragon)},function(t,e,i){"use strict";i.r(e);var n=i(0),r=i.n(n),a=i(5),s=i.n(a),o=(i(2),i(6));var h=function(){return r.a.createElement(o.a,null)};s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h,null)),document.getElementById("root"))}],[[11,1,2]]]);
//# sourceMappingURL=main.chunk.js.map